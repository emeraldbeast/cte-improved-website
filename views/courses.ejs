<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Your Courses</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50">
  <div id="top" class="header top-0 z-50 bg-green-500 px-8 py-4 flex justify-between items-center">
    <div
      class="left cursor-pointer text-xl text-yellow-100 bg-gray-500 px-4 py-2 rounded shadow-md hover:bg-gray-700 transition"
      onclick="window.scrollTo({ top: 0, behavior: 'smooth' });">
      CTE BITS GOA
    </div>

    <div class="md:hidden">
      <button id="hamburger" class="text-yellow-100 bg-gray-500 px-4 py-2 rounded hover:bg-gray-700 transition">
        â˜°
      </button>
    </div>

    <ul id="navLinks"
      class="hidden flex-col absolute top-[70px] right-8 bg-green-600 px-6 py-4 rounded text-yellow-100 space-y-4 shadow-lg
             md:static md:flex md:flex-row md:space-x-4 md:space-y-0 md:bg-transparent md:p-0 md:rounded md:shadow-none">
      <li>
        <a href="/courses"
          class="bg-transparent md:bg-gray-500 md:hover:bg-gray-700 text-yellow-100 px-4 py-2 rounded shadow-md transition">
          My Courses
        </a>
      </li>
      <li>
        <a
          class="bg-transparent md:bg-gray-500 md:hover:bg-gray-700 text-yellow-100 px-4 py-2 rounded shadow-md transition">
          AAP
        </a>
      </li>
      <li>
        <a href="/logout"
          class="bg-transparent md:bg-gray-500 md:hover:bg-gray-700 text-yellow-100 px-4 py-2 rounded shadow-md transition">
          Log Out
        </a>
      </li>
    </ul>
  </div>


  <h2 class="text-2xl font-bold p-6 mb-6">Your Registered Courses</h2>

  <% if (registeredCourses.length===0) { %>
    <p class="text-gray-600 p-6 mb-8">You have not registered for any courses yet.</p>
    <% } else { %>
      <div class="grid grid-cols-1 p-6 md:grid-cols-3 gap-6 mb-12">
        <% registeredCourses.forEach(course=> { %>
          <div class="flex flex-col bg-white rounded-lg shadow-md p-4">
            <img src="/images/<%= course.id %>.png" alt="<%= course.title %>"
              class="w-full h-[450px] object-cover rounded-md shadow-sm">
            <div class="mt-4 text-lg font-semibold">
              <%= course.title %>
            </div>
            <div class="italic text-gray-600">
              <%= course.org %>
            </div>
            <div class="flex justify-center gap-4 mt-4">
              <button class="mt-auto bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700">De-register</button>
              <button class="mt-auto bg-blue-900 text-white py-2 px-4 rounded hover:bg-green-700">Handout</button>
            </div>
          </div>
          <% }) %>
      </div>
      <% } %>

        <hr class="my-8">

        <h2 class="text-2xl font-bold p-6 mb-6">Available Courses</h2>

        <div class="grid p-6 grid-cols-1 md:grid-cols-3 gap-6">
          <% unregisteredCourses.forEach(course=> { %>
            <div class="flex flex-col bg-white rounded-lg shadow-md p-4">
              <img src="/images/<%= course.id %>.png" alt="<%= course.title %>"
                class="w-full h-[450px] object-cover rounded-md shadow-sm">
              <div class="mt-4 text-lg font-semibold">
                <%= course.title %>
              </div>
              <div class="italic text-gray-600">
                <%= course.org %>
              </div>
              <div class="flex justify-center gap-4 mt-4">
                <button class="mt-auto bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700">Register</button>
                <button class="mt-auto bg-blue-800 text-white py-2 px-4 rounded hover:bg-blue-900">Handout</button>
              </div>
            </div>
            <% }) %>
        </div>
        <script>
          const btn = document.getElementById('hamburger');
          const menu = document.getElementById('navLinks');
          const links = menu.querySelectorAll('a');

          btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
          });

          links.forEach(link => {
            link.addEventListener('click', () => {
              if (window.innerWidth < 768) {
                menu.classList.add('hidden');
              }
            });
          });
        </script>
</body>

</html>